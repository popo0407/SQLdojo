## 現在の状況
SQL道場webアプリケーションで、クエリ実行結果のテーブルにソート・フィルター機能が実装されています。ユーザーは結果を動的に並び替えたり、条件で絞り込んだりできる状態です。

## 改善要求
ユーザーがソート・フィルターを適用した際の条件を、エディタのSQLに自動的に反映し、それをテンプレートとして保存できる機能を追加したいと考えています。具体的には：

1. 現在適用されているソート・フィルター条件を取得
2. その条件をSQL文に変換（ORDER BY、WHERE句として）
3. エディタのSQLに反映
4. CSV出力ボタンの左に「フィルター・ソート条件をテンプレートとして保存」ボタンを追加
5. そのボタンで条件が反映されたSQLをテンプレートとして保存

## ユーザーに確認すべき不足情報
- フィルター・ソート条件の複雑さ（複数列ソート、複数条件フィルターの対応レベル）
- 既存SQLにすでにWHERE句やORDER BY句がある場合の処理方針
- 生成されるSQLの形式や命名規則の希望

## 検討すべき改善点
1. **UI/UX**: 条件反映時のユーザーフィードバック
2. **SQL生成ロジック**: 既存クエリとの統合方法
3. **エラーハンドリング**: 無効な条件や複雑すぎる条件への対応
4. **パフォーマンス**: 大量データでのソート・フィルター処理

## 実装方針の検討
### フロントエンド
- 結果テーブルのソート・フィルター状態を監視
- 条件をSQL形式に変換する機能の実装
- エディタへの自動反映機能
- 新しいボタンの追加とイベント処理

### バックエンド
- 既存のテンプレート保存APIを活用
- 新しいAPIエンドポイントは基本的に不要

### 技術的考慮事項
- JavaScriptでのSQL生成の安全性
- 既存SQLパーサーとの整合性
- 条件の複雑性制限

## 依頼事項
実装方針に対して@cursor.mdの開発憲章を準拠するための注意点を教えてください
